<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>fran· — à propos</title>
  <link rel="stylesheet" href="style.css">

  <style>
    #postit-pop:hover,
    #postit-photo:hover {
      animation: postit-shake 0.25s steps(2) infinite;
    }

    @keyframes postit-shake {
      0% { transform: translate(0,0); }
      25% { transform: translate(-2px,1px); }
      50% { transform: translate(2px,-1px); }
      75% { transform: translate(-1px,-2px); }
      100% { transform: translate(0,0); }
    }

    .postit-bar {
      background:#00a8ff;
      height:28px;
      display:flex;
      align-items:center;
      justify-content:flex-end;
      border:4px solid #00a8ff;
      border-bottom:none;
      box-shadow:10px 10px 0 #00a8ff;
      cursor:grab;
    }

    #close-postit,
    .close-photo {
      background:#fff;
      border:2px solid currentColor;
      width:22px;
      height:22px;
      line-height:18px;
      margin-right:4px;
      font-size:16px;
      cursor:pointer;
    }

    #close-postit { color:#00a8ff; }

    .postit-content {
      background:#fff;
      border:4px solid #00a8ff;
      box-shadow:10px 10px 0 #00a8ff;
      padding:18px;
      font-size:15px;
      line-height:1.45;
      color:#00a8ff;
    }

    .postit-source {
      display:block;
      margin-top:12px;
      font-size:11px;
      font-style:italic;
      opacity:.85;
    }

    /* POST-IT PHOTO JAUNE */
    #postit-photo {
      position:absolute;
      width:200px;
      border:4px solid #EFFF0F;
      background:#fff;
      box-shadow:16px 16px 0 #EFFF0F;
      cursor:grab;
      z-index:15;
    }

    #postit-photo .postit-bar {
      background:#EFFF0F;
      border-color:#EFFF0F;
      box-shadow:16px 16px 0 #EFFF0F;
    }

    #postit-photo .close-photo {
      color:#EFFF0F;
      border-color:#EFFF0F;
    }

    #postit-photo img {
      width:100%;
      display:block;
    }

    #postit-photo.dragging,
    #postit-pop.dragging {
      cursor:grabbing;
      user-select:none;
    }
  </style>
</head>

<body>

  <div class="page">

    <h1 class="post-binaire-texte titre">fran·</h1>

    <p class="post-binaire-texte apropos-subtitle">
      vit et travaille à Fribourg, Suisse [mais vraiment pas que]
    </p>

    <div class="apropos-content">

      <!-- POST-IT PHOTO -->
      <div id="postit-photo">
        <div class="postit-bar">
          <button class="close-photo">×</button>
        </div>
        <img src="me.jpg" alt="portrait de fran·">
      </div>

      <p class="post-binaire-texte apropos-texte">
        Né·e entre deux pays, deux siècles — deux millénaires même — pile le jour de l’équinoxe de printemps — à plus ou moins quarante-huit heures, fran· a pris l’habitude de se tenir dans les marges, « parce qu’on y respire mieux », dit-iel. Auteur..ice, performeur·euse et bricoleur·euse d’utopies portatives, iel écrit des poèmes, du théâtre et des formes hybrides qui célèbrent la douceur, la révolte et les désordres nécessaires.
        <br><br>
        Diplômé·e en cinéma (Université Rennes 2), en arts visuels (ESAM Caen) et en création littéraire (Haute École des Arts de Berne), iel développe un travail accessible, ouvert, qui préfère les petites secousses aux grands systèmes théoriques. Entre poésie performée, récits fragmentaires et vidéos, fran· cherche des trajectoires pour apprendre à se mouvoir dans un monde qui tremble.
      </p>

      <p class="apropos-legende">
        crédit photo :
        <a href="https://www.instagram.com/pe_mry/" target="_blank">
          Pernette Emery
        </a>
      </p>

    </div>

    <!-- POST-IT TEXTE BLEU -->
    <div id="postit-pop">
      <div class="postit-bar">
        <button id="close-postit">×</button>
      </div>

      <div class="postit-content">
        Je suis une fo·u·lle du·la reine sans monarque
        <br><br>
        Je suis une conteuse d’une révolution dont on ne connaît pas l’issue mais qui aura besoin de joie et de force pour ne pas mourir sous les nécropolitiques.
        <span class="postit-source">
          in <span class="normal">Je ne suis personne mais un chœur de bacchantes intergalactiques</span>, contre-agence spatiale, 2024
        </span>
      </div>
    </div>

  </div>

  <!-- FOOTER -->
  <div id="footer-placeholder"></div>

  <script>
    fetch("footer.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("footer-placeholder").innerHTML = html;
      });
  </script>

  <script>
(function () {

  function makeDraggable(el) {
    let dragging=false,startX=0,startY=0,startLeft=0,startTop=0;

    el.addEventListener("mousedown",startDrag);
    el.addEventListener("touchstart",startDrag,{passive:false});

    function startDrag(e){
      const evt=e.touches?e.touches[0]:e;
      dragging=true;
      el.classList.add("dragging");
      startX=evt.clientX;
      startY=evt.clientY;
      startLeft=el.offsetLeft;
      startTop=el.offsetTop;
      document.addEventListener("mousemove",drag);
      document.addEventListener("mouseup",stopDrag);
      document.addEventListener("touchmove",drag,{passive:false});
      document.addEventListener("touchend",stopDrag);
    }

    function drag(e){
      if(!dragging)return;
      const evt=e.touches?e.touches[0]:e;
      el.style.left=startLeft+(evt.clientX-startX)+"px";
      el.style.top =startTop +(evt.clientY-startY )+"px";
    }

    function stopDrag(){
      dragging=false;
      el.classList.remove("dragging");
      document.removeEventListener("mousemove",drag);
      document.removeEventListener("mouseup",stopDrag);
      document.removeEventListener("touchmove",drag);
      document.removeEventListener("touchend",stopDrag);
    }
  }

  /* ✅ PLACEMENT ALÉATOIRE AVEC PARTIE TOUJOURS DANS LE CADRE */
  function randomizeWithOverlap(el, page) {
    const pageRect = page.getBoundingClientRect();
    const w = el.offsetWidth;
    const h = el.offsetHeight;

    const minVisible = 60;

    const minX = pageRect.left - (w - minVisible);
    const maxX = pageRect.right - minVisible;

    const minY = pageRect.top - (h - minVisible);
    const maxY = pageRect.bottom - minVisible;

    const x = minX + Math.random() * (maxX - minX);
    const y = minY + Math.random() * (maxY - minY);

    el.style.left = x + "px";
    el.style.top  = y + "px";
  }

  const page = document.querySelector(".page");
  const postitText  = document.getElementById("postit-pop");
  const postitPhoto = document.getElementById("postit-photo");

  randomizeWithOverlap(postitText, page);
  randomizeWithOverlap(postitPhoto, page);

  makeDraggable(postitText);
  makeDraggable(postitPhoto);

  document.getElementById("close-postit").onclick = () => {
    postitText.style.display = "none";
  };

  document.querySelector(".close-photo").onclick = () => {
    postitPhoto.style.display = "none";
  };

})();
</script>

</body>
</html>
