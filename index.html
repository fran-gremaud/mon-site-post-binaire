<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>franxx</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- INTRO DANS LE CADRE -->
  <div class="page intro-wrapper">

    <p id="intro-text-1" class="post-binaire-texte texte intro-text visible">
      entre lentement
    </p>

    <p id="intro-text-2" class="post-binaire-texte texte intro-text">
      le site arrive
    </p>

    <a href="home.html" id="intro-enter">
      &gt;
    </a>

  </div>

  <!-- ÉCRAN GLITCH IMAGE -->
  <div id="glitch-screen">
    <img src="glitch.png" alt="">
  </div>

  <script>
    const text1 = document.getElementById("intro-text-1");
    const text2 = document.getElementById("intro-text-2");
    const enterBtn = document.getElementById("intro-enter");
    const glitch = document.getElementById("glitch-screen");
    const frame = document.querySelector(".intro-wrapper");

    function microGlitch(delay) {
      setTimeout(() => {
        glitch.classList.add("active");
        frame.classList.add("frame-glitch");

        setTimeout(() => {
          glitch.classList.remove("active");
          frame.classList.remove("frame-glitch");
        }, 120);
      }, delay);
    }

    /* Séquence principale — TES TEMPS */
    setTimeout(() => {
      glitch.classList.add("active");
      frame.classList.add("frame-glitch");
    }, 300);

    setTimeout(() => {
      glitch.classList.remove("active");
      frame.classList.remove("frame-glitch");
      text1.classList.remove("visible");
      text2.classList.add("visible");
    }, 700);

    setTimeout(() => {
      glitch.classList.add("active");
      frame.classList.add("frame-glitch");
    }, 950);

    setTimeout(() => {
      glitch.classList.remove("active");
      frame.classList.remove("frame-glitch");
      enterBtn.classList.add("visible");
    }, 1400);

    /* Micro-glitchs aléatoires */
    for (let i = 0; i < 5; i++) {
      const randomDelay = 1600 + Math.random() * 2000;
      microGlitch(randomDelay);
    }
  </script>

</body>
</html>
